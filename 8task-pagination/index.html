<!-- Изменение сетки, со списка на сетку -->

<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<title>8task-pagination</title>
	<!-- Подключение своих стилей -->
	<link rel="stylesheet" href="style.css">
</head>
<body>

	<template id="pagination-template">
		<div class="pagination">
			<div class="pagination__left">
				<a href="#" v-if="hasPrev()" @click="changePage(prevPage)">Предыдущая</a>
			</div>
			<div class="pagination__mid">
				<ul>
					<li v-if="hasFirst()">
						<a href="#" @click="changePage(1)">1</a>
					</li>
					<li v-if="hasFirst()">...</li>
					<li v-for="page in pages">
						<a href="#" :class="{ current: current == page }" @click="changePage(page)">{{page}}</a>
					</li>
					<li v-if="hasLast()">...</li>
					<li v-if="hasLast()">
						<a href="#" @click="changePage(totalPages)">{{totalPages}}</a>
					</li>
				</ul>
			</div>
			<div class="pagination__right">
				<a href="#" v-if="hasNext()" @click="changePage(nextPage)">Следующая</a>
			</div>
		</div>
	</template>

	<!-- Блок на который действует vue -->
	<!-- v-cloak скрывает нескомпилированные элементы, пока сущность Vue.js не готова. -->
	<div id="app" v-cloak>

		<pagination 
			:total="totalPhotos" 
			:perPage="perPage" 
			:current="currentPage" 
			@page-changed="fetchPhotos"
		></pagination>

		<section class="grid">
			<div class="grid__item card" v-for="photo in photos">
				<div class="card__body">
					<img :src="photo.urls.small" alt="">
				</div>
				<div class="card__footer media">
					<img :src="photo.user.profile_image.small" alt="" class="media__obj">
					<div class="media__body">
						<a :href="photo.user.portfolio_url" target="_blank">{{ photo.user.name }}</a>
					</div>
				</div>
			</div>
		</section>

	</div>
	<!-- Подключение с cdn vue -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.3.3/vue.js"></script>
	<!-- vue-resourse - плагин для vue -->
	<script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.5"></script>
	<!-- Подключение своих скриптов -->
	<script src="pagination.js"></script>
	<script src="app.js"></script>
</body>
</html>